/* ============================================================
   SECTION 1: SELECT STATEMENTS FOR ALL 19 ENTITIES
   ============================================================ */

/* Administration Team */
SELECT * FROM PARENT_GUARDIAN;
SELECT * FROM STUDENT;
SELECT * FROM REGISTRATION_APPLICATION;
SELECT * FROM STUDENT_RECORD;

/* Program & Operations Team */
SELECT * FROM PROGRAM;
SELECT * FROM AVAILABLE_SUBJECT;
SELECT * FROM TEACHING_ASSIGNMENT;
SELECT * FROM REPORT;
SELECT * FROM VOLUNTEER_CERTIFICATION;

/* HR & Volunteer Management Team */
SELECT * FROM EMPLOYEE;
SELECT * FROM EMPLOYMENT_CONTRACT;
SELECT * FROM VOLUNTEER;

/* Finance & Logistics Team */
SELECT * FROM DONOR;
SELECT * FROM DONATION;
SELECT * FROM RECEIPT;
SELECT * FROM BUDGET;
SELECT * FROM EXPENSE;
SELECT * FROM LOGISTICS_TASK;


-- =============================================
-- SECTION 2: DML (INSERT DATA)
-- =============================================

-- EMPLOYMENT_CONTRACT
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C002', DATE '2025-02-01', DATE '2025-12-31', 4000, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C003', DATE '2025-03-01', DATE '2025-12-31', 3800, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C004', DATE '2025-01-15', DATE '2025-12-31', 3600, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C005', DATE '2025-04-01', DATE '2025-12-31', 4200, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C006', DATE '2025-05-01', DATE '2025-12-31', 3900, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C007', DATE '2025-06-01', DATE '2025-12-31', 4100, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C008', DATE '2025-07-01', DATE '2025-12-31', 3700, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C009', DATE '2025-08-01', DATE '2025-12-31', 4000, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C010', DATE '2025-09-01', DATE '2025-12-31', 3800, 'One year contract', 'ACTIVE');
INSERT INTO EMPLOYMENT_CONTRACT VALUES ('C099', DATE '2025-01-25', DATE '2026-01-25', 3500, 'Expiring Contract', 'ACTIVE');

-- EMPLOYEE
INSERT INTO EMPLOYEE VALUES ('E002','Fatimah Bakar','900102011234','Coordinator','fatimah@gmail.com','0123456790','2345678901','Maybank','C002');
INSERT INTO EMPLOYEE VALUES ('E003','Ahmad Zaki','900103011234','Supervisor','ahmadzaki@gmail.com','0123456791','2345678902','CIMB','C003');
INSERT INTO EMPLOYEE VALUES ('E004','Siti Nur','900104011234','Assistant','sitinur@gmail.com','0123456792','2345678903','RHB','C004');
INSERT INTO EMPLOYEE VALUES ('E005','Mohd Faiz','900105011234','Manager','faiz@gmail.com','0123456793','2345678904','CIMB','C005');
INSERT INTO EMPLOYEE VALUES ('E006','Liyana','900106011234','Coordinator','liyana@gmail.com','0123456794','2345678905','Maybank','C006');
INSERT INTO EMPLOYEE VALUES ('E007','Hafiz','900107011234','Supervisor','hafiz@gmail.com','0123456795','2345678906','CIMB','C007');
INSERT INTO EMPLOYEE VALUES ('E008','Nurul','900108011234','Assistant','nurul@gmail.com','0123456796','2345678907','RHB','C008');
INSERT INTO EMPLOYEE VALUES ('E009','Zul','900109011234','Manager','zul@gmail.com','0123456797','2345678908','Maybank','C009');
INSERT INTO EMPLOYEE VALUES ('E010','Aina','900110011234','Coordinator','aina@gmail.com','0123456798','2345678909','CIMB','C010');
INSERT INTO EMPLOYEE VALUES ('E099', 'Ravi The Temp', '950101015555', 'Assistant', 'ravi@gmail.com', '0129998888', '1122334455', 'CIMB', 'C099');

-- PARENT_GUARDIAN
INSERT INTO PARENT_GUARDIAN VALUES ('PG002','750102015555','0192224444','KL','Engineer',5500,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG003','750103015555','0192225555','Selangor','Teacher',4500,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG004','750104015555','0192226666','KL','Businessman',6000,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG005','750105015555','0192227777','Penang','Nurse',4800,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG006','750106015555','0192228888','KL','Lecturer',5200,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG007','750107015555','0192229999','Selangor','Chef',4000,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG008','750108015555','0192230000','KL','Police',5000,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG009','750109015555','0192231111','KL','Doctor',6500,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG010','750110015555','0192232222','Selangor','Farmer',3500,'Married');
INSERT INTO PARENT_GUARDIAN VALUES ('PG011','750111015555','0192233333','Kedah','General Worker',1200,'Married');

-- STUDENT
INSERT INTO STUDENT VALUES ('S002','Nur Aisyah','110102011111',DATE '2011-02-01','Female','SK Setapak','Year 6','None','PG002');
INSERT INTO STUDENT VALUES ('S003','Adam','110103011111',DATE '2011-03-01','Male','SK Cheras','Year 6','None','PG003');
INSERT INTO STUDENT VALUES ('S004','Sarah','110104011111',DATE '2011-04-01','Female','SK Petaling','Year 6','None','PG004');
INSERT INTO STUDENT VALUES ('S005','Ibrahim','110105011111',DATE '2011-05-01','Male','SK Ampang','Year 6','Asthma','PG005');
INSERT INTO STUDENT VALUES ('S006','Hana','110106011111',DATE '2011-06-01','Female','SK KL','Year 6','None','PG006');
INSERT INTO STUDENT VALUES ('S007','Farid','110107011111',DATE '2011-07-01','Male','SK Setapak','Year 6','None','PG007');
INSERT INTO STUDENT VALUES ('S008','Aina','110108011111',DATE '2011-08-01','Female','SK Cheras','Year 6','None','PG008');
INSERT INTO STUDENT VALUES ('S009','Daniel','110109011111',DATE '2011-09-01','Male','SK Petaling','Year 6','None','PG009');
INSERT INTO STUDENT VALUES ('S010','Laila','110110011111',DATE '2011-10-01','Female','SK Ampang','Year 6','None','PG010');
INSERT INTO STUDENT VALUES ('S011','Kassim','110111011111',DATE '2011-11-01','Male','SK Kedah','Year 6','None','PG011');
INSERT INTO STUDENT VALUES ('S012', 'Ahmad Aisyah', '130101011111', DATE '2013-01-01', 'Male', 'SK Setapak', 'Year 4', 'None', 'PG002');


-- VOLUNTEER
INSERT INTO VOLUNTEER VALUES ('V002','990203022222','0188886666','vol2@gmail.com','UM','Computer Science',3,'Y',DATE '2025-01-12','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V003','990204022222','0188885555','vol3@gmail.com','UM','Information Technology',2,'Y',DATE '2025-01-15','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V004','990205022222','0188884444','vol4@gmail.com','UM','Engineering',3,'Y',DATE '2025-01-20','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V005','990206022222','0188883333','vol5@gmail.com','UM','Math',1,'Y',DATE '2025-01-25','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V006','990207022222','0188882222','vol6@gmail.com','UM','Physics',2,'Y',DATE '2025-01-28','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V007','990208022222','0188881111','vol7@gmail.com','UM','Biology',3,'Y',DATE '2025-02-01','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V008','990209022222','0188880000','vol8@gmail.com','UM','Chemistry',2,'Y',DATE '2025-02-05','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V009','990210022222','0188879999','vol9@gmail.com','UM','English',1,'Y',DATE '2025-02-10','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V010','990211022222','0188878888','vol10@gmail.com','UM','Malay',1,'Y',DATE '2025-02-15','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V011','990212022222','0188877777','vol11@gmail.com','UM','Math',2,'Y',DATE '2025-02-20','ACTIVE');
INSERT INTO VOLUNTEER VALUES ('V099', '880101055555', '0177776666', 'oldvol@gmail.com', 'UM', 'History', 4, 'N', DATE '2023-06-15', 'ACTIVE');

-- AVAILABLE_SUBJECT
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB002','Science','Primary','SCI-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB003','English','Primary','ENG-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB004','Malay','Primary','MAL-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB005','Art','Primary','ART-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB006','History','Primary','HIS-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB007','Geography','Primary','GEO-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB008','Computer','Primary','COM-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB009','Music','Primary','MUS-PRI');
INSERT INTO AVAILABLE_SUBJECT VALUES ('SUB010','PE','Primary','PE-PRI');

-- TEACHING_ASSIGNMENT
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA002','S002','V002','SUB002','Monday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA003','S003','V003','SUB003','Tuesday','10AM-12PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA004','S004','V004','SUB004','Wednesday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA005','S005','V005','SUB005','Thursday','10AM-12PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA006','S006','V006','SUB006','Friday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA007','S007','V007','SUB007','Monday','10AM-12PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA008','S008','V008','SUB008','Tuesday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA009','S009','V009','SUB009','Wednesday','10AM-12PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA010','S010','V010','SUB010','Thursday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA020','S003','V002','SUB002','Monday','11AM-1PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA021','S004','V002','SUB002','Monday','2PM-4PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA022','S005','V002','SUB002','Tuesday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA023','S002','V002','SUB002','Tuesday','11AM-1PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA024','S003','V002','SUB002','Wednesday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA025','S004','V002','SUB002','Wednesday','11AM-1PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA026','S005','V002','SUB002','Thursday','9AM-11AM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA027','S002','V002','SUB002','Thursday','11AM-1PM','2025-1');
INSERT INTO TEACHING_ASSIGNMENT VALUES ('TA030','S002','V004','SUB004','Friday','9AM-11AM','2025-1');

-- VOLUNTEER_CERTIFICATION
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V002','S002',DATE '2025-02-05');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V003','S003',DATE '2025-02-06');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V004','S004',DATE '2025-02-07');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V005','S005',DATE '2025-02-08');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V006','S006',DATE '2025-02-09');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V007','S007',DATE '2025-02-10');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V008','S008',DATE '2025-02-11');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V009','S009',DATE '2025-02-12');
INSERT INTO VOLUNTEER_CERTIFICATION VALUES ('V010','S010',DATE '2025-02-13');

-- REGISTRATION_APPLICATION
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP002',DATE '2025-01-05','SUBMITTED','No remarks','S002');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP003',DATE '2025-01-06','APPROVED','Good','S003');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP004',DATE '2025-01-07','REJECTED','Incomplete','S004');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP005',DATE '2025-01-08','SUBMITTED','Pending','S005');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP006',DATE '2025-01-09','APPROVED','Good','S006');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP007',DATE '2025-01-10','SUBMITTED','No remarks','S007');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP008',DATE '2025-01-11','REJECTED','Incomplete','S008');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP009',DATE '2025-01-12','APPROVED','Good','S009');
INSERT INTO REGISTRATION_APPLICATION VALUES ('APP010',DATE '2025-01-13','SUBMITTED','Pending','S010');

-- STUDENT_RECORD
INSERT INTO STUDENT_RECORD VALUES ('R002',DATE '2025-02-01','ACTIVE','Good progress','S002');
INSERT INTO STUDENT_RECORD VALUES ('R003',DATE '2025-02-02','ACTIVE','Good progress','S003');
INSERT INTO STUDENT_RECORD VALUES ('R004',DATE '2025-02-03','ACTIVE','Good progress','S004');
INSERT INTO STUDENT_RECORD VALUES ('R005',DATE '2025-02-04','ACTIVE','Good progress','S005');
INSERT INTO STUDENT_RECORD VALUES ('R006',DATE '2025-02-05','ACTIVE','Good progress','S006');
INSERT INTO STUDENT_RECORD VALUES ('R007',DATE '2025-02-06','ACTIVE','Good progress','S007');
INSERT INTO STUDENT_RECORD VALUES ('R008',DATE '2025-02-07','ACTIVE','Good progress','S008');
INSERT INTO STUDENT_RECORD VALUES ('R009',DATE '2025-02-08','ACTIVE','Good progress','S009');
INSERT INTO STUDENT_RECORD VALUES ('R010',DATE '2025-02-09','ACTIVE','Good progress','S010');
INSERT INTO STUDENT_RECORD VALUES ('R012', DATE '2025-02-01', 'ACTIVE', 'Sibling enrollment', 'S012');

-- BUDGET 
INSERT INTO BUDGET VALUES ('B001', 2025, 50000, 'Education Program Budget');
INSERT INTO BUDGET VALUES ('B002', 2025, 15000, 'STEM Workshop Fund');
INSERT INTO BUDGET VALUES ('B003', 2025, 8000, 'Field Trip Allocation');
INSERT INTO BUDGET VALUES ('B004', 2025, 20000, 'Facilities & Maintenance');
INSERT INTO BUDGET VALUES ('B005', 2025, 5000, 'Volunteer Appreciation Fund');
INSERT INTO BUDGET VALUES ('B006', 2025, 12000, 'Technology & Software Upgrades');
INSERT INTO BUDGET VALUES ('B007', 2026, 60000, '2026 Education Program Budget');

-- PROGRAM 
INSERT INTO PROGRAM VALUES ('P001', 'Primary Tuition', 'Education', 'Free tuition', DATE '2025-01-01', DATE '2025-12-31', 'Community Center', 'B001', 'E002');
-- Insert Data after Alter Table
INSERT INTO PROGRAM VALUES ('P002', 'Science Discovery Workshop', 'Workshop', 'Hands-on experiments for kids', DATE '2025-03-10', DATE '2025-03-12', 'Science Centre', 'B001', 'E003', 'COMPLETED');
INSERT INTO PROGRAM VALUES ('P003', 'KL Heritage Walk', 'Trip', 'Historical tour of Dataran Merdeka', DATE '2025-04-15', DATE '2025-04-15', 'Dataran Merdeka', 'B001', 'E004', 'UPCOMING');
INSERT INTO PROGRAM VALUES ('P004', 'Coding for Kids', 'Workshop', 'Introduction to Python programming', DATE '2025-06-01', DATE '2025-06-30', 'Computer Lab', 'B001', 'E005', 'UPCOMING');
INSERT INTO PROGRAM VALUES ('P005', 'Secondary Math Tuition', 'Education', 'Tuition for Form 1-3 students', DATE '2025-01-01', DATE '2025-12-31', 'Community Center', 'B001', 'E002', 'ONGOING');

-- LOGISTICS_TASK 
INSERT INTO LOGISTICS_TASK VALUES ('T001', 'Setup Venue', 'Chairs and tables', DATE '2025-01-01', 'COMPLETED', 'E004', 'P001');
INSERT INTO LOGISTICS_TASK VALUES ('T002', 'Buy Chemicals', 'Vinegar and Baking Soda', DATE '2025-03-05', 'COMPLETED', 'E003', 'P002');
INSERT INTO LOGISTICS_TASK VALUES ('T003', 'Order Lunch', 'Catering for 30 pax', DATE '2025-03-08', 'COMPLETED', 'E003', 'P002');
INSERT INTO LOGISTICS_TASK VALUES ('T004', 'Book Bus', '44-seater bus rental', DATE '2025-04-01', 'PENDING', 'E004', 'P003');
INSERT INTO LOGISTICS_TASK VALUES ('T005', 'Install Python', 'Lab computers setup', DATE '2025-05-25', 'IN PROGRESS', 'E005', 'P004');
INSERT INTO LOGISTICS_TASK VALUES ('T006', 'Print Handouts', 'Coding exercise sheets', DATE '2025-05-28', 'PENDING', 'E005', 'P004');
INSERT INTO LOGISTICS_TASK VALUES ('T007', 'Repair AC', 'Classroom 2 Aircond leaking', DATE '2025-02-15', 'COMPLETED', 'E002', 'P001');

-- EXPENSE
INSERT INTO EXPENSE VALUES ('EXP001', 1000, DATE '2025-02-01', 'Books', 'Materials', 'B001', 'P001');
INSERT INTO EXPENSE VALUES ('EXP002', 55000, DATE '2025-02-02', 'Major Renovation', 'Capital', 'B001', 'P001');
INSERT INTO EXPENSE VALUES ('EXP003', 450.00, DATE '2025-03-11', 'Science Kits', 'Materials', 'B002', 'P002');
INSERT INTO EXPENSE VALUES ('EXP004', 300.00, DATE '2025-03-11', 'Student Lunch', 'Food', 'B002', 'P002');
INSERT INTO EXPENSE VALUES ('EXP005', 1200.00, DATE '2025-04-15', 'Bus Charter Deposit', 'Transport', 'B003', 'P003');
INSERT INTO EXPENSE VALUES ('EXP006', 400.00, DATE '2025-04-15', 'Museum Entrance Fees', 'Fees', 'B003', 'P003');
INSERT INTO EXPENSE VALUES ('EXP007', 2500.00, DATE '2025-06-15', 'Laptop Rentals', 'Equipment', 'B006', 'P004');
INSERT INTO EXPENSE VALUES ('EXP008', 150.00, DATE '2025-02-10', 'Whiteboard Markers', 'Stationery', 'B001', 'P001');

COMMIT;


-- DONOR
INSERT INTO DONOR VALUES ('D002','Yayasan Aman','Foundation','0312345679','donor2@gmail.com','Selangor','TX124');
INSERT INTO DONOR VALUES ('D003','Yayasan Harapan','NGO','0312345680','donor3@gmail.com','KL','TX125');
INSERT INTO DONOR VALUES ('D004','Yayasan Prihatin 2','Foundation','0312345681','donor4@gmail.com','Penang','TX126');
INSERT INTO DONOR VALUES ('D005','Yayasan Maju','NGO','0312345682','donor5@gmail.com','Selangor','TX127');
INSERT INTO DONOR VALUES ('D006','Yayasan Cemerlang','Foundation','0312345683','donor6@gmail.com','KL','TX128');
INSERT INTO DONOR VALUES ('D007','Yayasan Bestari','NGO','0312345684','donor7@gmail.com','KL','TX129');
INSERT INTO DONOR VALUES ('D008','Yayasan Sejahtera','Foundation','0312345685','donor8@gmail.com','Selangor','TX130');
INSERT INTO DONOR VALUES ('D009','Yayasan Gemilang','NGO','0312345686','donor9@gmail.com','KL','TX131');
INSERT INTO DONOR VALUES ('D010','Yayasan Pintar','Foundation','0312345687','donor10@gmail.com','KL','TX132');

-- DONATION
INSERT INTO DONATION VALUES ('DN002',4000,DATE '2025-02-05','Cash','Education','P001','D002');
INSERT INTO DONATION VALUES ('DN003',3500,DATE '2025-02-06','Online','Education','P001','D003');
INSERT INTO DONATION VALUES ('DN004',5000,DATE '2025-02-07','Cash','Education','P001','D004');
INSERT INTO DONATION VALUES ('DN005',4500,DATE '2025-02-08','Online','Education','P001','D005');
INSERT INTO DONATION VALUES ('DN006',4800,DATE '2025-02-09','Cash','Education','P001','D006');
INSERT INTO DONATION VALUES ('DN007',5200,DATE '2025-02-10','Online','Education','P001','D007');
INSERT INTO DONATION VALUES ('DN008',4700,DATE '2025-02-11','Cash','Education','P001','D008');
INSERT INTO DONATION VALUES ('DN009',5300,DATE '2025-02-12','Online','Education','P001','D009');
INSERT INTO DONATION VALUES ('DN010',5000,DATE '2025-02-13','Cash','Education','P001','D010');

-- RECEIPT
INSERT INTO RECEIPT VALUES ('R002',DATE '2025-02-06','YES','DN002');
INSERT INTO RECEIPT VALUES ('R003',DATE '2025-02-07','YES','DN003');
INSERT INTO RECEIPT VALUES ('R004',DATE '2025-02-08','YES','DN004');
INSERT INTO RECEIPT VALUES ('R005',DATE '2025-02-09','YES','DN005');
INSERT INTO RECEIPT VALUES ('R006',DATE '2025-02-10','YES','DN006');
INSERT INTO RECEIPT VALUES ('R007',DATE '2025-02-11','YES','DN007');
INSERT INTO RECEIPT VALUES ('R008',DATE '2025-02-12','YES','DN008');
INSERT INTO RECEIPT VALUES ('R009',DATE '2025-02-13','YES','DN009');
INSERT INTO RECEIPT VALUES ('R010',DATE '2025-02-14','YES','DN010');

-- REPORT
INSERT INTO REPORT VALUES ('REP002',DATE '2025-07-02','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP003',DATE '2025-07-03','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP004',DATE '2025-07-04','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP005',DATE '2025-07-05','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP006',DATE '2025-07-06','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP007',DATE '2025-07-07','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP008',DATE '2025-07-08','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP009',DATE '2025-07-09','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP010',DATE '2025-07-10','Program successful','Minor issues','P001');
INSERT INTO REPORT VALUES ('REP099', DATE '2025-03-15', 'Workshop went great, kids loved the volcano experiment.', 'None', 'P002');

COMMIT;

-- ============================================================
-- SECTION 3: DML (UPDATE DATA)
-- ============================================================

-- Change Student S004 (Sarah) to DROPPED OUT
UPDATE STUDENT_RECORD
SET RECORD_STATUS = 'DROPPED OUT', 
    RECORD_NOTES = 'Family moved to Johor'
WHERE STUDENT_ID = 'S004';

-- Change Student S008 (Aina) to GRADUATED
UPDATE STUDENT_RECORD
SET RECORD_STATUS = 'GRADUATED', 
    RECORD_NOTES = 'Completed Primary School'
WHERE STUDENT_ID = 'S008';

-- ============================================================
-- SECTION 4: DML (DELETE DATA)
-- ============================================================

-- Example Scenario: Inserting a wrong task by accident
INSERT INTO LOGISTICS_TASK VALUES ('T999', 'Buy Mineral Water', 'For Science Workshop', DATE '2025-03-05', 'PENDING', 'E003', 'P002');

-- Deleting the duplicate task
DELETE FROM LOGISTICS_TASK 
WHERE TASK_ID = 'T999';


-- ============================================================
-- SECTION 5: DQL (QUERIES)
-- ============================================================

-- FUNCTIONAL USER REQUIREMENTS

/* Search Parent/Guardian by Identification Number */
SELECT * FROM PARENT_GUARDIAN WHERE NRIC = '750110015555';

/* Search Student by Name */
SELECT * FROM STUDENT WHERE STUDENT_FULL_NAME LIKE '%Aina%';

/* Search Student by School */
SELECT * FROM STUDENT WHERE STUDENT_CURRENT_SCHOOL = 'SK Cheras';

/* Search Volunteer by Institution */
SELECT * FROM VOLUNTEER WHERE VOLUNTEER_INSTITUTION_NAME = 'UM';

/* Search Volunteer by Subject Expertise */
SELECT * FROM VOLUNTEER WHERE VOLUNTEER_COURSE_MAJOR = 'Math';

/* Search Donations by Amount */
SELECT * FROM DONATION WHERE AMOUNT > 5000;

/* Search Donations by Date */
SELECT * FROM DONATION 
WHERE DATE_RECEIVED BETWEEN DATE '2025-02-01' AND DATE '2025-02-10';

/* Track Registration Application Status */
SELECT APP_STATUS, COUNT(*) AS TOTAL_APPLICATIONS 
FROM REGISTRATION_APPLICATION 
GROUP BY APP_STATUS;

/* Track Student Status */
SELECT RECORD_STATUS, COUNT(*) AS TOTAL_STUDENTS 
FROM STUDENT_RECORD 
GROUP BY RECORD_STATUS;

/* Track Volunteer Assignment Status */
SELECT VOLUNTEER_ID, COUNT(*) AS TOTAL_ASSIGNMENTS 
FROM TEACHING_ASSIGNMENT 
GROUP BY VOLUNTEER_ID;

/* Student Demographics Report */
SELECT STUDENT_GENDER, COUNT(*) AS TOTAL FROM STUDENT GROUP BY STUDENT_GENDER;

/* Program Participation Report */
SELECT TERM_SEMESTER, COUNT(*) AS TOTAL_SESSIONS FROM TEACHING_ASSIGNMENT GROUP BY TERM_SEMESTER;

/* Financial Report â€“ Total Donations */
SELECT SUM(AMOUNT) AS TOTAL_DONATIONS FROM DONATION;


-- SPECIAL USER REQUIREMENTS

/* SR1: High-Priority Applicants (Income < RM1500) */
SELECT s.STUDENT_ID, s.STUDENT_FULL_NAME, p.HOUSEHOLD_INCOME
FROM STUDENT s
JOIN PARENT_GUARDIAN p ON s.PARENT_ID = p.PARENT_ID
WHERE p.HOUSEHOLD_INCOME < 1500;

/* SR2: Student-to-Volunteer Ratio */
SELECT COUNT(DISTINCT STUDENT_ID) / NULLIF(COUNT(DISTINCT VOLUNTEER_ID),0) AS RATIO
FROM TEACHING_ASSIGNMENT
WHERE TERM_SEMESTER = '2025-1';

/* SR3: Available Certified Volunteers */
SELECT DISTINCT v.VOLUNTEER_ID, v.VOLUNTEER_COURSE_MAJOR
FROM VOLUNTEER v
WHERE v.VOLUNTEER_COURSE_MAJOR LIKE '%Math%' 
AND v.VOLUNTEER_ID NOT IN (
    SELECT VOLUNTEER_ID FROM TEACHING_ASSIGNMENT
);

/* SR4: Student Medical Alert List */
SELECT S.STUDENT_ID, S.STUDENT_FULL_NAME, S.STUDENT_HEALTH_CONDITIONS, PG.CONTACT_NUMBER AS EMERGENCY_CONTACT
FROM STUDENT S
JOIN PARENT_GUARDIAN PG ON S.PARENT_ID = PG.PARENT_ID
JOIN STUDENT_RECORD SR ON S.STUDENT_ID = SR.STUDENT_ID
WHERE S.STUDENT_HEALTH_CONDITIONS != 'None'
AND SR.RECORD_STATUS = 'ACTIVE';

/* SR5: Volunteer Service Certificate Eligibility ( > 40 hours) */
SELECT VOLUNTEER_ID, COUNT(*) * 5 AS TOTAL_SERVICE_HOURS
FROM TEACHING_ASSIGNMENT
GROUP BY VOLUNTEER_ID
HAVING COUNT(*) * 5 >= 40;

/* SR6: Volunteer Transport Availability Search */
SELECT * FROM VOLUNTEER WHERE VOLUNTEER_OWN_TRANSPORT = 'Y';

/* SR7: Volunteer Self-Development Tracking */
SELECT VOLUNTEER_ID, COUNT(*) AS WORKSHOPS_ATTENDED
FROM VOLUNTEER_CERTIFICATION
GROUP BY VOLUNTEER_ID;

/* SR8: Budget Overrun Detection */
SELECT B.BUDGET_ID, B.TOTAL_ALLOCATION, SUM(E.EXPENSE_AMOUNT) AS TOTAL_SPENT
FROM BUDGET B
JOIN EXPENSE E ON B.BUDGET_ID = E.BUDGET_ID
GROUP BY B.BUDGET_ID, B.TOTAL_ALLOCATION
HAVING SUM(E.EXPENSE_AMOUNT) > B.TOTAL_ALLOCATION;

/* SR9: VIP Donor Identification (> RM5000) */
SELECT d.DONOR_ID, dn.DONOR_NAME, SUM(d.AMOUNT) AS TOTAL_CONTRIBUTION
FROM DONATION d
JOIN DONOR dn ON d.DONOR_ID = dn.DONOR_ID
GROUP BY d.DONOR_ID, dn.DONOR_NAME
HAVING SUM(d.AMOUNT) > 5000;

/* SR10: Highly Engaged Students (Enrolled in multiple sessions) */
SELECT STUDENT_ID, COUNT(*) AS TOTAL_PROGRAMS
FROM TEACHING_ASSIGNMENT
GROUP BY STUDENT_ID
HAVING COUNT(*) >= 2;

/* SR11: Employee Contract Expiry Alert */
SELECT E.EMPLOYEE_NAME, C.CONTRACT_END, C.CONTRACT_STATUS
FROM EMPLOYEE E
JOIN EMPLOYMENT_CONTRACT C ON E.CONTRACT_ID = C.CONTRACT_ID
WHERE C.CONTRACT_END BETWEEN SYSDATE AND SYSDATE + 30;


/* SR12: Delayed Logistics Tasks */
SELECT T.TASK_NAME, T.TASK_DEADLINE, E.EMPLOYEE_NAME AS ASSIGNED_TO
FROM LOGISTICS_TASK T
JOIN EMPLOYEE E ON T.EMPLOYEE_ID = E.EMPLOYEE_ID
WHERE T.TASK_DEADLINE < SYSDATE 
AND T.TASK_STATUS != 'COMPLETED';


/* SR13: Most Expensive Program (Cost Analysis) */
SELECT P.PROGRAM_NAME, SUM(E.EXPENSE_AMOUNT) AS TOTAL_EXPENSES
FROM PROGRAM P
JOIN EXPENSE E ON P.PROGRAM_ID = E.PROGRAM_ID
GROUP BY P.PROGRAM_NAME
ORDER BY TOTAL_EXPENSES DESC
FETCH FIRST 1 ROWS ONLY;


/* SR14: Household Sizing Report (Siblings) */
SELECT P.PARENT_NAME, COUNT(S.STUDENT_ID) AS NUMBER_OF_CHILDREN
FROM PARENT_GUARDIAN P
JOIN STUDENT S ON P.PARENT_ID = S.PARENT_ID
GROUP BY P.PARENT_NAME
HAVING COUNT(S.STUDENT_ID) > 1;


/* SR15: Net Budget Balance */
SELECT B.BUDGET_DESCRIPTION, 
       B.TOTAL_ALLOCATION, 
       NVL(SUM(E.EXPENSE_AMOUNT), 0) AS SPENT,
       (B.TOTAL_ALLOCATION - NVL(SUM(E.EXPENSE_AMOUNT), 0)) AS REMAINING_BALANCE
FROM BUDGET B
LEFT JOIN EXPENSE E ON B.BUDGET_ID = E.BUDGET_ID 
GROUP BY B.BUDGET_DESCRIPTION, B.TOTAL_ALLOCATION;


/* SR16: Subject Popularity Ranking */
SELECT S.SUBJECT_NAME, COUNT(TA.ASSIGNMENT_ID) AS TOTAL_CLASSES
FROM AVAILABLE_SUBJECT S
LEFT JOIN TEACHING_ASSIGNMENT TA ON S.SUBJECT_ID = TA.SUBJECT_ID
GROUP BY S.SUBJECT_NAME
ORDER BY TOTAL_CLASSES DESC;


/* SR17: Monthly Donation Trends */
SELECT TO_CHAR(DATE_RECEIVED, 'YYYY-MM') AS DONATION_MONTH, 
       SUM(AMOUNT) AS TOTAL_RECEIVED
FROM DONATION
GROUP BY TO_CHAR(DATE_RECEIVED, 'YYYY-MM')
ORDER BY DONATION_MONTH;


/* SR18: Volunteer Retention (Long-Term Service) */
SELECT VOLUNTEER_ID, VOLUNTEER_INSTITUTION_NAME, VOLUNTEER_REGISTRATION_DATE
FROM VOLUNTEER
WHERE VOLUNTEER_REGISTRATION_DATE <= ADD_MONTHS(SYSDATE, -12);


/* SR19: Venue Utilization Report */
SELECT PROGRAM_VENUE, COUNT(*) AS PROGRAMS_HOSTED
FROM PROGRAM
GROUP BY PROGRAM_VENUE;


/* SR20: Program Success Rate (Based on Completion) */
SELECT P.PROGRAM_NAME, P.PROGRAM_END_DATE, R.EXECUTIVE_SUMMARY
FROM PROGRAM P
JOIN REPORT R ON P.PROGRAM_ID = R.PROGRAM_ID
WHERE P.PROGRAM_STATUS = 'COMPLETED';

/* ============================================================
   SECTION 6: SYSTEM OPTIMIZATION (VIEWS)
   Creating Virtual Tables for the most complex Special Requirements
   to simplify future data retrieval.
   ============================================================ */

-- 1. Optimization for SR1 (High Priority Applicants)
CREATE OR REPLACE VIEW V_HIGH_PRIORITY_APPLICANTS AS
SELECT s.STUDENT_ID, s.STUDENT_FULL_NAME, p.PARENT_NAME, p.HOUSEHOLD_INCOME, p.CONTACT_NUMBER
FROM STUDENT s
JOIN PARENT_GUARDIAN p ON s.PARENT_ID = p.PARENT_ID
WHERE p.HOUSEHOLD_INCOME < 1500;

-- 2. Optimization for SR2 (Student-to-Volunteer Ratio)
CREATE OR REPLACE VIEW V_STUDENT_VOLUNTEER_RATIO AS
SELECT TERM_SEMESTER,
       COUNT(DISTINCT STUDENT_ID) AS TOTAL_STUDENTS,
       COUNT(DISTINCT VOLUNTEER_ID) AS TOTAL_VOLUNTEERS,
       ROUND(COUNT(DISTINCT STUDENT_ID) / NULLIF(COUNT(DISTINCT VOLUNTEER_ID),0), 2) AS RATIO
FROM TEACHING_ASSIGNMENT
GROUP BY TERM_SEMESTER;

-- 3. Optimization for SR5 (Volunteer Service Awards)
CREATE OR REPLACE VIEW V_VOLUNTEER_AWARDS AS
SELECT V.VOLUNTEER_ID, V.VOLUNTEER_INSTITUTION_NAME,
       COUNT(TA.ASSIGNMENT_ID) AS TOTAL_CLASSES,
       (COUNT(TA.ASSIGNMENT_ID) * 5) AS TOTAL_SERVICE_HOURS
FROM VOLUNTEER V
JOIN TEACHING_ASSIGNMENT TA ON V.VOLUNTEER_ID = TA.VOLUNTEER_ID
GROUP BY V.VOLUNTEER_ID, V.VOLUNTEER_INSTITUTION_NAME
HAVING (COUNT(TA.ASSIGNMENT_ID) * 5) >= 40;

-- 4. Optimization for SR7 (Volunteer Workshops Count)
CREATE OR REPLACE VIEW V_VOLUNTEER_WORKSHOPS AS
SELECT V.VOLUNTEER_ID, COUNT(C.CERTIFICATION_DATE) AS WORKSHOPS_ATTENDED
FROM VOLUNTEER V
JOIN VOLUNTEER_CERTIFICATION C ON V.VOLUNTEER_ID = C.VOLUNTEER_ID
GROUP BY V.VOLUNTEER_ID;

-- 5. Optimization for SR8 (Budget Overrun Alerts)
CREATE OR REPLACE VIEW V_BUDGET_OVERRUN_ALERTS AS
SELECT B.BUDGET_ID, B.TOTAL_ALLOCATION, 
       SUM(E.EXPENSE_AMOUNT) AS TOTAL_SPENT,
       (SUM(E.EXPENSE_AMOUNT) - B.TOTAL_ALLOCATION) AS OVERRUN_AMOUNT
FROM BUDGET B
JOIN EXPENSE E ON B.BUDGET_ID = E.BUDGET_ID
GROUP BY B.BUDGET_ID, B.TOTAL_ALLOCATION
HAVING SUM(E.EXPENSE_AMOUNT) > B.TOTAL_ALLOCATION;

-- 6. Optimization for SR10 (Highly Engaged Students)
CREATE OR REPLACE VIEW V_ENGAGED_STUDENTS AS
SELECT S.STUDENT_FULL_NAME, COUNT(TA.ASSIGNMENT_ID) AS PROGRAMS_ENROLLED
FROM STUDENT S
JOIN TEACHING_ASSIGNMENT TA ON S.STUDENT_ID = TA.STUDENT_ID
GROUP BY S.STUDENT_FULL_NAME
HAVING COUNT(TA.ASSIGNMENT_ID) >= 2;

-- 7. Optimization for SR13 (Program Cost Ranking)
CREATE OR REPLACE VIEW V_PROGRAM_COST_RANKING AS
SELECT P.PROGRAM_NAME, SUM(E.EXPENSE_AMOUNT) AS TOTAL_SPENT
FROM PROGRAM P
JOIN EXPENSE E ON P.PROGRAM_ID = E.PROGRAM_ID
GROUP BY P.PROGRAM_NAME
ORDER BY TOTAL_SPENT DESC;

-- 8. Optimization for SR15 (Net Budget Balance)
CREATE OR REPLACE VIEW V_NET_BUDGET_STATUS AS
SELECT B.BUDGET_DESCRIPTION, B.TOTAL_ALLOCATION, 
       NVL(SUM(E.EXPENSE_AMOUNT), 0) AS TOTAL_SPENT,
       (B.TOTAL_ALLOCATION - NVL(SUM(E.EXPENSE_AMOUNT), 0)) AS REMAINING_BALANCE
FROM BUDGET B
LEFT JOIN EXPENSE E ON B.BUDGET_ID = E.BUDGET_ID
GROUP BY B.BUDGET_DESCRIPTION, B.TOTAL_ALLOCATION;

-- 9. Optimization for SR17 (Donation Monthly Trends)
CREATE OR REPLACE VIEW V_DONATION_TRENDS AS
SELECT TO_CHAR(DATE_RECEIVED, 'YYYY-MM') AS MONTH_YEAR, 
       SUM(AMOUNT) AS TOTAL_COLLECTED
FROM DONATION
GROUP BY TO_CHAR(DATE_RECEIVED, 'YYYY-MM')
ORDER BY MONTH_YEAR;

-- 10. Optimization for SR19 (Venue Usage Stats)
CREATE OR REPLACE VIEW V_VENUE_UTILIZATION AS
SELECT PROGRAM_VENUE, COUNT(*) AS EVENTS_HOSTED
FROM PROGRAM
GROUP BY PROGRAM_VENUE
ORDER BY EVENTS_HOSTED DESC;

-- ============================================================
-- SECTION 7: VERIFYING VIEWS (Testing the Virtual Tables)
-- ============================================================

-- Test 1: Retrieve High Priority List from View
SELECT * FROM V_HIGH_PRIORITY_APPLICANTS;

-- Test 2: Check Budget Health from View
SELECT * FROM V_NET_BUDGET_STATUS;

-- Test 3: Check for Budget Alerts
SELECT * FROM V_BUDGET_OVERRUN_ALERTS;

COMMIT;
